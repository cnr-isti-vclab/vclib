# VCLib ToDo list

- General:
  - [ ] Enumerations should be declared as enum classes
  - [x] Fix scripts to add a mesh element
    - [ ] Add documentation on how to add a new mesh element using scripts
  - [x] Remove usage of "vcl::" inside vcl namespace where it can be avoided
  - [x] 'friend class Type' should be 'friend Type'
  - [x] implement swap functions in this way (but keep swap member function): https://stackoverflow.com/a/5695855/5851101
- Base:
  - [x] move mesh_containers.h to mesh/containers/base
  - [x] move mesh_elements.h to mesh/elements/base
  - [x] move mesh_components to mesh/components/base
  - [ ] implement Range helper types (e.g. `RangeType<R>` that returns the type iterated in the range)
- Concepts:
  - [x] add constructor constraints on all concepts
  - [x] concepts should work for all type of cvref qualified types
  - [x] complete space data structures concepts
  - [x] implement vcl::InputIterator<IteratorType, IteratedType> as it is done in std::output_iterator
  - [x] fix ranges in texture and wedge concepts -> missing std::same_as<...>
  - [x] remove clang-format on and off when [this issue](https://github.com/llvm/llvm-project/issues/59412) will be fixed
  - [x] rename RangeOf to InputRange, and implement OutputRange concept (be consistent with Input/OutputIterator concepts).
  - [x] Major rethink of concepts
    - [x] Delete all the algorithms in core/algorithms/core that are related to mesh, and move them to an inner mesh/algorithms directory
    - [x] Remove all the views in core/views that are related to mesh, and move them to an inner mesh/views directory
    - [x] move all the math functions that depends to space.core concepts to algorithms.core
    - [x] Rethink the concepts in core/concepts, moving everything that is a related to a data structure in the header that contains the definition of that data structure
- Mesh:
  - Elements:
    - [ ] set properly elements concepts
  - Containers:
    - [x] Move the classes that are used internally in a folder 'detail'
    - [ ] Element container should provide fast compact function, that does not preserve elements order
  - Components:
    - [ ] references to elements should be available using ELEM_ID
  - Mesh:
    - [ ] append() should also take a rvalue reference and move it
    - [ ] manage clean() for all components of mesh, not only element containers
  - Utils:
    - [ ] MeshInfo should not use its own enums for elements and components
    - [ ] Add function to get MeshType name (see test 21)
- Views:
  - [ ] Add `elements<ELEM_ID>` view 
  - [ ] Move indices view from views/mesh/elements/element.h to views/mesh/indices.h
- Exceptions:
  - [ ] MissingTriangularRequirementException and the other ones should be grouped in a single FaceSizeException class
- Iterators:
  - [ ] make just one StaticGridIterator class that can be both const and non-const (avoid code duplication)
- IO:
  - [ ] implement non-static member functions for FileInfo class
  - [ ] Manage read and write colors from integral to non integral types
  - [ ] Ply read/write code for some components should be the same for every element (no code duplication)
- Algorithms:
  - [x] Separate Mesh algorithms from core(?) algorithms
  - [ ] Take views arguments instead of vectors- allows to be more general on algorithms
    - [ ] core/fitting
    - [ ] core/stat
  - [x] Implement exporter to VCG
  - [x] Implement importer/exporter from buffer
  - [x] Shuffle algorithms should be all made using ranges
  - [ ] Shuffle algorithms should take as input an optional seed instead of a boolean 'deterministic'
    - [ ] and they should log the seed at debug level
  - [ ] Smooth algorithms should be made using loggers
  - Point Sampling:
    - [ ] uniform all the function, that should take an out argument of birthVertices/birthFaces
    - [ ] weights input argument of all the function should be a range
    - [ ] allow to pass a function that computes the sample starting from a face or an edge (requires implementation on PointSampler class)
- Space:
  - [ ] MeshEdgeUtil class should NOT rely on comparing pointers - it leds to non-deterministic behavior
  - [ ] add assert(!isNull()) on Box member functions like volume()
  - [ ] get rid of TriangleWrapper data structure
  - [ ] improve documentation for Grid data structures
  - [ ] allow to set custom sample function from a face or an edge in PointSampler class
- External:
  - [ ] remove zip-iterator library when c++23 zip-view will be supported
  - [ ] look for a json header only library that is compatible with c++20 modules
- Documentation:
  - [ ] How to implement a user component
- Examples: 
  - [ ] Create an example for new custom element (similar to 010-mesh-new-user-component)
